@using Picturepark.PressPortal.Demo.Contracts;
@using Microsoft.AspNetCore.Mvc.Localization
@using Picturepark.SDK.V1.Contract

@inject IViewLocalizer Localizer

@model ContentItem<PressKits>

@*<script>
    //change og meta tags on detail view
    $(document).ready(function () {
        $("meta[property='og\\:title']").attr("content", $("#content-area .entry-title").html());
        $("meta[property='og\\:site_name']").attr("content", $("#content-area .entry-title").html());
        $("meta[property='og\\:description']").attr("content", $(".leadP").html());
        $("meta[property='og\\:image']").attr("content", $(".entry-content .et_pb_text_inner img").attr("src"));
        $("meta[property='og\\:url']").attr("content", window.location.href);
    });
</script>*@

<div class="breadcrumb primary-color">
    <a asp-controller="Home" asp-action="Overview">
        <i class="material-icons">keyboard_backspace</i> @Localizer.GetString("Back to Overview")
    </a>
</div>

<div class="article-detail">
    <article>
        <h1 class="article-detail-title">@Model.Content.Headline.GetTranslation()</h1>
        <p class="article-detail-about">
            <span>
                @Localizer.GetString("By")
                <a class="primary-color" href="#" title="Posts By @Model.Owner.FirstName @Model.Owner.LastName" rel="author">@Model.Owner.FirstName @Model.Owner.LastName</a>
            </span>
            <span>•</span>
            <span>@Model.Content.ReleaseDate.ToShortDateString()</span>
        </p>

        <p class="article-detail-lead">@Model.Content.Lead?.GetTranslation()</p>
        <br />
        <img class="detail-hero-image" src="/Home/ImageResized/@Model.Content.HeroImage.TargetId?width=750&height=600" />
        <br /><br />
        <div class="detail-body-text">
            <markdown>@Html.Raw(Model.Content.BodyText?.GetTranslation())</markdown>
        </div>

        <h4>Downloads</h4>
        @foreach (var download in Model.Content.MediaDownloads)
        {
        <div class="download-item gradient-shadow primary-color">
            <a asp-area="" asp-controller="Home" asp-action="Embed" asp-route-id="@download.TargetId">
                <i class="material-icons">cloud_download</i>
                <img src="/Home/Thumbnail/@download.TargetId">
                <p>@download.LegendTitle?.GetTranslation()</p>
            </a>
        </div>
        }
    </article>
</div>