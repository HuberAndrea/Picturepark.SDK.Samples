@using Picturepark.PressPortal.Demo.Contracts;
@using Microsoft.AspNetCore.Mvc.Localization
@using Picturepark.SDK.V1.Contract

@inject IViewLocalizer Localizer

@model ContentItem<PressKits>

<script>
    //change og meta tags on detail view
    $(document).ready(function () {
        $("meta[property='og\\:title']").attr("content", $("#content-area .entry-title").html());
        $("meta[property='og\\:site_name']").attr("content", $("#content-area .entry-title").html());
        $("meta[property='og\\:description']").attr("content", $(".leadP").html());
        $("meta[property='og\\:image']").attr("content", $(".entry-content .et_pb_text_inner img").attr("src"));
        $("meta[property='og\\:url']").attr("content", window.location.href);
    });
</script>

<div class="breadcrumbsBox">
    <div class="breadcrumbs">
        <a asp-controller="Home" asp-action="Overview"><span class='separator'>#</span> @Localizer.GetString("Back to Overview")</a>
    </div>
</div>

<div id="content-area" class="clearfix">
	<div id="left-area">
		<article class="et_pb_post post type-post status-publish format-standard has-post-thumbnail hentry category-best-practices-for-dam">
			<div class="entry-content">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_0">
					<div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_0">
                        <div class="et_pb_text_inner">
                            <h1 class="entry-title">@Model.Content.Headline.GetTranslation()</h1>

                            <div class="et_post_meta_wrapper">
                                <p class="post-meta"><span class="author vcard">@Localizer.GetString("By") <a href="#" title="Posts By @Model.Owner.FirstName @Model.Owner.LastName" rel="author">@Model.Owner.FirstName @Model.Owner.LastName</a></span><span class="metaBullet">•</span><span class="published">@Model.Content.ReleaseDate.ToShortDateString()</span></p>
                            </div> <!-- .et_post_meta_wrapper -->

                            <p class="leadP" style="margin-top: 20px; text-align:left">@Model.Content.Lead?.GetTranslation()</p>
                            <br />

                            <img src="/Home/ImageResized/@Model.Content.HeroImage.TargetId?width=750&height=600" />
                            <div class="et-box et-shadow"><div class="et-box-content" style="padding: 4px !important;"></div></div>


                            <markdown>@Html.Raw(Model.Content.BodyText?.GetTranslation())</markdown>

                            <div class="hr1" style="margin:40px 0 40px 0 !important;"></div>

                            <div id="downloadWrapper">
                                <h4>Downloads</h4>
                                @foreach (var download in Model.Content.MediaDownloads)
                                {
                                    
                                <div class="col-lg-3 col-md-4 col-xs-6 thumb" style="height: 200px;">
                                    <div class="downloadItem">
                                        <div class="thumbnail">
                                            <a asp-area="" asp-controller="Home" asp-action="Embed" asp-route-id="@download.TargetId">
                                                <i class="material-icons">cloud_download</i>
                                                <img class="img-responsive" src="/Home/Thumbnail/@download.TargetId" alt="" style="max-height: 160px;">
                                                <p style="padding: 6px;">@download.LegendTitle?.GetTranslation()</p>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                }
                            </div>
                            <script>
                                hideDownloads();
                            </script>
                        </div>
					</div> <!-- .et_pb_text -->
				</div> <!-- .et_pb_column -->

			</div> <!-- .et_post_meta_wrapper -->
		</article> <!-- .et_pb_post -->

	</div> <!-- #left-area -->
</div>
